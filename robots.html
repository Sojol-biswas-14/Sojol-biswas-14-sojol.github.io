<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Robot AI Art ‚Äì Sojol Biswas</title>
  <meta name="description" content="Explore a gallery of robot-inspired AI artwork by Sojol Biswas. Download futuristic and digital robot images." />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet" />
  <style>
    :root {
      --bg-color: #0d0d0d;
      --text-color: #ffffff;
      --accent-color: #00ffcc;
      --input-bg: #1a1a1a;
      --caption-color: #ccc;
    }
    
    [data-theme="light"] {
      --bg-color: #ffffff;
      --text-color: #000000;
      --accent-color: #007777;
      --input-bg: #f0f0f0;
      --caption-color: #333;
    }

    body {
      background: var(--bg-color);
      color: var(--text-color);
      font-family: 'Inter', sans-serif;
      margin: 0;
      padding: 20px;
      transition: background 0.3s, color 0.3s;
    }

    h1 { text-align: center; color: var(--accent-color); margin-top: 60px; }

    .back, .theme-toggle {
      position: fixed; padding: 10px 16px; border-radius: 6px;
      font-weight: 600; z-index: 1000; transition: opacity 0.3s ease;
    }
    .back {
      top: 20px; left: 20px; background: var(--accent-color); color: #000;
    }
    .theme-toggle {
      bottom: 20px; right: 20px; background: var(--accent-color); color: #000;
      cursor: pointer;
    }
    .hidden { opacity: 0; pointer-events: none; }

    .search-box { text-align: center; margin-top: 20px; }
    .search-box input {
      padding: 10px 16px; width: 300px; max-width: 90%; border-radius: 8px;
      border: none; background: var(--input-bg); color: var(--accent-color);
      font-size: 16px;
    }

    #result-count { text-align: center; color: var(--accent-color); font-size: 14px; margin-top: 10px; height: 20px; }
    .gallery {
      display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      gap: 30px; padding: 40px 20px; max-width: 1200px; margin: auto;
    }

    .item { text-align: center; }
    .image-wrapper { position: relative; overflow: hidden; cursor: pointer; }
    .image-wrapper img {
      width: 100%; border-radius: 12px; border: 2px solid var(--accent-color);
      transition: transform 0.3s ease;
    }
    .image-wrapper:hover img {
      transform: scale(1.05); box-shadow: 0 0 12px var(--accent-color);
    }

    .download {
      position: absolute; bottom: 10px; left: 50%; transform: translateX(-50%);
      opacity: 0; transition: opacity 0.3s ease;
      background: var(--accent-color); color: #000; padding: 8px 16px;
      border-radius: 5px; text-decoration: none; font-weight: 500;
    }
    .image-wrapper:hover .download { opacity: 1; }

    .caption { margin-top: 10px; font-size: 14px; color: var(--caption-color); }
    .license {
      text-align: center; margin-top: 60px; font-size: 14px; color: var(--caption-color);
      border-top: 1px solid #333; padding-top: 30px; max-width: 700px; margin: auto;
      line-height: 1.6;
    }

    .lightbox {
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      background: rgba(0, 0, 0, 0.9); display: none; justify-content: center;
      align-items: center; z-index: 999;
    }
    .lightbox img { max-width: 90%; max-height: 80vh; border-radius: 10px; }
    .lightbox .close { position: absolute; top: 20px; right: 30px; font-size: 28px; color: var(--accent-color); cursor: pointer; }
    .lightbox .counter { position: absolute; bottom: 20px; color: var(--accent-color); font-size: 14px; }

    .spinner {
      text-align: center; color: var(--accent-color);
      padding: 20px; font-size: 16px;
    }
  </style>
</head>
<body>
  <a class="back" href="index.html" id="backBtn">‚¨Ö Back</a>
  <button class="theme-toggle" id="themeBtn" onclick="toggleTheme()">üåì Theme</button>
  <h1>ü§ñ Robot AI Art Gallery</h1>

  <div class="search-box">
    <input type="text" id="searchInput" placeholder="Search AI images..." onkeyup="filterImages()" />
    <div id="result-count" aria-live="polite"></div>
  </div>

  <div class="gallery" id="gallery"></div>
  <div class="spinner" id="spinner">üîÑ Loading...</div>

  <div class="license">
    ‚ö†Ô∏è All images are owned by <strong>Sojol Biswas</strong>. Personal/educational use only.
  </div>

  <div class="lightbox" id="lightbox" onclick="closeLightbox(event)">
    <span class="close">&times;</span>
    <img id="lightbox-img" src="" alt="Preview" />
    <div class="counter" id="viewCounter"></div>
  </div>

  <script>
    const imageData = [
      { src: "images/robot/robot1.jpg", title: "Futuristic Robot Head", keywords: "futuristic robot head" },
      { src: "images/robot/robot2.jpg", title: "Cybernetic Android", keywords: "cybernetic android robot" },
      { src: "images/robot/robot3.jpg", title: "Digital Robot Concept", keywords: "digital robot concept" }
      // Add more robot images here
    ];

    let currentIndex = 0;
    const perPage = 6;
    const gallery = document.getElementById('gallery');
    const spinner = document.getElementById('spinner');

    function loadImages() {
      spinner.style.display = 'block';
      const next = imageData.slice(currentIndex, currentIndex + perPage);
      next.forEach(img => {
        const div = document.createElement('div');
        div.className = 'item';
        div.setAttribute('data-keywords', img.keywords);
        div.innerHTML = `
          <div class="image-wrapper" onclick="openLightbox('${img.src}')">
            <img src="${img.src}" alt="${img.title}" loading="lazy" />
            <a class="download" href="${img.src}" download>‚¨á Download</a>
          </div>
          <div class="caption">${img.title}</div>
        `;
        gallery.appendChild(div);
      });
      currentIndex += perPage;
      spinner.style.display = 'none';
    }

    window.addEventListener('scroll', () => {
      if (window.innerHeight + window.scrollY >= document.body.offsetHeight - 300) loadImages();
    });

    function filterImages() {
      const input = document.getElementById('searchInput').value.toLowerCase();
      const items = document.querySelectorAll('.item');
      let count = 0;
      items.forEach(item => {
        const match = item.getAttribute('data-keywords').includes(input);
        item.style.display = match ? '' : 'none';
        if (match) count++;
      });
      document.getElementById('result-count').textContent = count + " image(s) found";
    }

    function openLightbox(src) {
      const img = document.getElementById('lightbox-img');
      img.src = src;
      document.getElementById('lightbox').style.display = 'flex';
      const views = incrementViewCount(src);
      document.getElementById('viewCounter').textContent = views + ' views';
    }

    function closeLightbox(e) {
      if (e.target.id === 'lightbox' || e.target.className === 'close') {
        document.getElementById('lightbox').style.display = 'none';
        document.getElementById('lightbox-img').src = '';
      }
    }

    function incrementViewCount(src) {
      const key = 'views_' + src;
      let count = localStorage.getItem(key) || 0;
      count++;
      localStorage.setItem(key, count);
      return count;
    }

    function toggleTheme() {
      const current = document.documentElement.getAttribute('data-theme');
      const next = current === 'light' ? 'dark' : 'light';
      document.documentElement.setAttribute('data-theme', next);
      localStorage.setItem('theme', next);
    }

    document.addEventListener('DOMContentLoaded', () => {
      const savedTheme = localStorage.getItem('theme') || 'dark';
      document.documentElement.setAttribute('data-theme', savedTheme);
      loadImages();
    });

    let lastScrollTop = 0;
    window.addEventListener('scroll', () => {
      const st = window.pageYOffset || document.documentElement.scrollTop;
      const backBtn = document.getElementById('backBtn');
      const themeBtn = document.getElementById('themeBtn');
      if (st > lastScrollTop) {
        backBtn.classList.add('hidden');
        themeBtn.classList.add('hidden');
      } else {
        backBtn.classList.remove('hidden');
        themeBtn.classList.remove('hidden');
      }
      lastScrollTop = st <= 0 ? 0 : st;
    });

    // SWIPE SUPPORT
    let startX = 0;
    document.getElementById('lightbox').addEventListener('touchstart', e => startX = e.touches[0].clientX);
    document.getElementById('lightbox').addEventListener('touchend', e => {
      const endX = e.changedTouches[0].clientX;
      if (Math.abs(startX - endX) > 50) closeLightbox(e);
    });
  </script>
</body>
</html>
